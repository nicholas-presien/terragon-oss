{
  "id": "a35490f4-2a4b-4f4a-a82a-eb944bd7bb0b",
  "prevId": "d371a333-fdb6-40f1-b368-de5201cdd28d",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.agent_provider_credentials": {
      "name": "agent_provider_credentials",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "agent": {
          "name": "agent",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "api_key_encrypted": {
          "name": "api_key_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token_encrypted": {
          "name": "access_token_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_encrypted": {
          "name": "refresh_token_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "id_token_encrypted": {
          "name": "id_token_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_refreshed_at": {
          "name": "last_refreshed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "agent_provider_credentials_user_id_index": {
          "name": "agent_provider_credentials_user_id_index",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_provider_credentials_user_agent_index": {
          "name": "agent_provider_credentials_user_agent_index",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agent",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_provider_credentials_user_id_user_id_fk": {
          "name": "agent_provider_credentials_user_id_user_id_fk",
          "tableFrom": "agent_provider_credentials",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.amp_auth": {
      "name": "amp_auth",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amp_api_key_encrypted": {
          "name": "amp_api_key_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "amp_auth_user_id_user_id_fk": {
          "name": "amp_auth_user_id_user_id_fk",
          "tableFrom": "amp_auth",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "amp_auth_user_id_unique": {
          "name": "amp_auth_user_id_unique",
          "nullsNotDistinct": false,
          "columns": ["user_id"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.automations": {
      "name": "automations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_config": {
          "name": "trigger_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "repo_full_name": {
          "name": "repo_full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "branch_name": {
          "name": "branch_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "skip_setup": {
          "name": "skip_setup",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "disable_git_checkpointing": {
          "name": "disable_git_checkpointing",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "last_run_at": {
          "name": "last_run_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_run_at": {
          "name": "next_run_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "run_count": {
          "name": "run_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "automations_user_id_index": {
          "name": "automations_user_id_index",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "automations_user_id_enabled_index": {
          "name": "automations_user_id_enabled_index",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "automations_trigger_type_index": {
          "name": "automations_trigger_type_index",
          "columns": [
            {
              "expression": "trigger_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "automations_pull_request_repo_full_name_index": {
          "name": "automations_pull_request_repo_full_name_index",
          "columns": [
            {
              "expression": "trigger_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "repo_full_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "automations_next_run_at_index": {
          "name": "automations_next_run_at_index",
          "columns": [
            {
              "expression": "next_run_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "automations_user_id_user_id_fk": {
          "name": "automations_user_id_user_id_fk",
          "tableFrom": "automations",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.claude_oauth_tokens": {
      "name": "claude_oauth_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_subscription": {
          "name": "is_subscription",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "anthropic_api_key_encrypted": {
          "name": "anthropic_api_key_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token_encrypted": {
          "name": "access_token_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token_type": {
          "name": "token_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_encrypted": {
          "name": "refresh_token_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_max": {
          "name": "is_max",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "organization_type": {
          "name": "organization_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "account_email": {
          "name": "account_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "org_name": {
          "name": "org_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "claude_oauth_tokens_user_id_user_id_fk": {
          "name": "claude_oauth_tokens_user_id_user_id_fk",
          "tableFrom": "claude_oauth_tokens",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "claude_oauth_tokens_user_id_unique": {
          "name": "claude_oauth_tokens_user_id_unique",
          "nullsNotDistinct": false,
          "columns": ["user_id"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.claude_session_checkpoints": {
      "name": "claude_session_checkpoints",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "r2_key": {
          "name": "r2_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "claude_session_unique": {
          "name": "claude_session_unique",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "claude_session_checkpoints_thread_id_thread_id_fk": {
          "name": "claude_session_checkpoints_thread_id_thread_id_fk",
          "tableFrom": "claude_session_checkpoints",
          "tableTo": "thread",
          "columnsFrom": ["thread_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.environment": {
      "name": "environment",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_global": {
          "name": "is_global",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "repo_full_name": {
          "name": "repo_full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "environment_variables": {
          "name": "environment_variables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "mcp_config_encrypted": {
          "name": "mcp_config_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "setup_script": {
          "name": "setup_script",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "disable_git_checkpointing": {
          "name": "disable_git_checkpointing",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_id_repo_full_name_branch_name_unique": {
          "name": "user_id_repo_full_name_branch_name_unique",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "repo_full_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "environment_user_id_user_id_fk": {
          "name": "environment_user_id_user_id_fk",
          "tableFrom": "environment",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.feature_flags": {
      "name": "feature_flags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "default_value": {
          "name": "default_value",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "global_override": {
          "name": "global_override",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "name_unique": {
          "name": "name_unique",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.gemini_auth": {
      "name": "gemini_auth",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token_type": {
          "name": "token_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gemini_api_key_encrypted": {
          "name": "gemini_api_key_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "gemini_auth_user_id_user_id_fk": {
          "name": "gemini_auth_user_id_user_id_fk",
          "tableFrom": "gemini_auth",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "gemini_auth_user_id_unique": {
          "name": "gemini_auth_user_id_unique",
          "nullsNotDistinct": false,
          "columns": ["user_id"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.github_check_run": {
      "name": "github_check_run",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "thread_chat_id": {
          "name": "thread_chat_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "check_run_id": {
          "name": "check_run_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "conclusion": {
          "name": "conclusion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "thread_id_thread_chat_id_unique": {
          "name": "thread_id_thread_chat_id_unique",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "thread_chat_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "github_check_run_thread_id_thread_id_fk": {
          "name": "github_check_run_thread_id_thread_id_fk",
          "tableFrom": "github_check_run",
          "tableTo": "thread",
          "columnsFrom": ["thread_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "github_check_run_thread_chat_id_thread_chat_id_fk": {
          "name": "github_check_run_thread_chat_id_thread_chat_id_fk",
          "tableFrom": "github_check_run",
          "tableTo": "thread_chat",
          "columnsFrom": ["thread_chat_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.github_pr": {
      "name": "github_pr",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "repo_full_name": {
          "name": "repo_full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "number": {
          "name": "number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "base_ref": {
          "name": "base_ref",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mergeable_state": {
          "name": "mergeable_state",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'unknown'"
        },
        "checks_status": {
          "name": "checks_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'unknown'"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "repo_number_unique": {
          "name": "repo_number_unique",
          "columns": [
            {
              "expression": "repo_full_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "github_pr_thread_id_thread_id_fk": {
          "name": "github_pr_thread_id_thread_id_fk",
          "tableFrom": "github_pr",
          "tableTo": "thread",
          "columnsFrom": ["thread_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.openai_auth": {
      "name": "openai_auth",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "openai_api_key_encrypted": {
          "name": "openai_api_key_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token_encrypted": {
          "name": "access_token_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_encrypted": {
          "name": "refresh_token_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "id_token_encrypted": {
          "name": "id_token_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_refreshed_at": {
          "name": "last_refreshed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "openai_auth_user_id_user_id_fk": {
          "name": "openai_auth_user_id_user_id_fk",
          "tableFrom": "openai_auth",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "openai_auth_user_id_unique": {
          "name": "openai_auth_user_id_unique",
          "nullsNotDistinct": false,
          "columns": ["user_id"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.slack_account": {
      "name": "slack_account",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "team_id": {
          "name": "team_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slack_user_id": {
          "name": "slack_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slack_team_name": {
          "name": "slack_team_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slack_team_domain": {
          "name": "slack_team_domain",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_token_encrypted": {
          "name": "access_token_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "slack_account_user_team_unique": {
          "name": "slack_account_user_team_unique",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "team_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "slack_account_slack_user_team_unique": {
          "name": "slack_account_slack_user_team_unique",
          "columns": [
            {
              "expression": "slack_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "team_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "slack_account_user_id_user_id_fk": {
          "name": "slack_account_user_id_user_id_fk",
          "tableFrom": "slack_account",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "slack_account_slack_user_id_unique": {
          "name": "slack_account_slack_user_id_unique",
          "nullsNotDistinct": false,
          "columns": ["slack_user_id"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.slack_installation": {
      "name": "slack_installation",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "team_id": {
          "name": "team_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "team_name": {
          "name": "team_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bot_user_id": {
          "name": "bot_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bot_access_token_encrypted": {
          "name": "bot_access_token_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "app_id": {
          "name": "app_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "installer_user_id": {
          "name": "installer_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_enterprise_install": {
          "name": "is_enterprise_install",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "enterprise_id": {
          "name": "enterprise_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enterprise_name": {
          "name": "enterprise_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "slack_installation_team_id": {
          "name": "slack_installation_team_id",
          "columns": [
            {
              "expression": "team_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "slack_installation_team_id_unique": {
          "name": "slack_installation_team_id_unique",
          "nullsNotDistinct": false,
          "columns": ["team_id"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.slack_settings": {
      "name": "slack_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "team_id": {
          "name": "team_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "default_repo_full_name": {
          "name": "default_repo_full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_model": {
          "name": "default_model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "slack_settings_user_team_unique": {
          "name": "slack_settings_user_team_unique",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "team_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "slack_settings_user_id_user_id_fk": {
          "name": "slack_settings_user_id_user_id_fk",
          "tableFrom": "slack_settings",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.thread": {
      "name": "thread",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "github_repo_full_name": {
          "name": "github_repo_full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "repo_base_branch_name": {
          "name": "repo_base_branch_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "current_branch_name": {
          "name": "current_branch_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "github_pr_number": {
          "name": "github_pr_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "github_issue_number": {
          "name": "github_issue_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "codesandbox_id": {
          "name": "codesandbox_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sandbox_provider": {
          "name": "sandbox_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'e2b'"
        },
        "sandbox_size": {
          "name": "sandbox_size",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sandbox_status": {
          "name": "sandbox_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booting_substatus": {
          "name": "booting_substatus",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "git_diff": {
          "name": "git_diff",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "git_diff_stats": {
          "name": "git_diff_stats",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "archived": {
          "name": "archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "automation_id": {
          "name": "automation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_thread_id": {
          "name": "parent_thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_tool_id": {
          "name": "parent_tool_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "draft_message": {
          "name": "draft_message",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "disable_git_checkpointing": {
          "name": "disable_git_checkpointing",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "skip_setup": {
          "name": "skip_setup",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_metadata": {
          "name": "source_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "agent": {
          "name": "agent",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'claudeCode'"
        },
        "agent_version": {
          "name": "agent_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "messages": {
          "name": "messages",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "queued_messages": {
          "name": "queued_messages",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message_info": {
          "name": "error_message_info",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "schedule_at": {
          "name": "schedule_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "reattempt_queue_at": {
          "name": "reattempt_queue_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "context_length": {
          "name": "context_length",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "permission_mode": {
          "name": "permission_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'allowAll'"
        }
      },
      "indexes": {
        "user_id_index": {
          "name": "user_id_index",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_id_created_at_index": {
          "name": "user_id_created_at_index",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_id_updated_at_index": {
          "name": "user_id_updated_at_index",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_id_status_index": {
          "name": "user_id_status_index",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_id_archived_index": {
          "name": "user_id_archived_index",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "archived",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "parent_thread_id_index": {
          "name": "parent_thread_id_index",
          "columns": [
            {
              "expression": "parent_thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_id_automation_id_index": {
          "name": "user_id_automation_id_index",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "automation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "github_repo_full_name_github_pr_number_index": {
          "name": "github_repo_full_name_github_pr_number_index",
          "columns": [
            {
              "expression": "github_repo_full_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "github_pr_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "schedule_at_status_index": {
          "name": "schedule_at_status_index",
          "columns": [
            {
              "expression": "schedule_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "reattempt_queue_at_status_index": {
          "name": "reattempt_queue_at_status_index",
          "columns": [
            {
              "expression": "reattempt_queue_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "source_type_index": {
          "name": "source_type_index",
          "columns": [
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sandbox_provider_and_id_index": {
          "name": "sandbox_provider_and_id_index",
          "columns": [
            {
              "expression": "sandbox_provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "codesandbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "thread_user_id_user_id_fk": {
          "name": "thread_user_id_user_id_fk",
          "tableFrom": "thread",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "thread_automation_id_automations_id_fk": {
          "name": "thread_automation_id_automations_id_fk",
          "tableFrom": "thread",
          "tableTo": "automations",
          "columnsFrom": ["automation_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "thread_parent_thread_id_thread_id_fk": {
          "name": "thread_parent_thread_id_thread_id_fk",
          "tableFrom": "thread",
          "tableTo": "thread",
          "columnsFrom": ["parent_thread_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.thread_chat": {
      "name": "thread_chat",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "thread_id": {
          "name": "thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "agent": {
          "name": "agent",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'claudeCode'"
        },
        "agent_version": {
          "name": "agent_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "messages": {
          "name": "messages",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "queued_messages": {
          "name": "queued_messages",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message_info": {
          "name": "error_message_info",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "schedule_at": {
          "name": "schedule_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "reattempt_queue_at": {
          "name": "reattempt_queue_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "context_length": {
          "name": "context_length",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "permission_mode": {
          "name": "permission_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'allowAll'"
        }
      },
      "indexes": {
        "thread_chat_user_id_thread_id_index": {
          "name": "thread_chat_user_id_thread_id_index",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "thread_chat_user_id_user_id_fk": {
          "name": "thread_chat_user_id_user_id_fk",
          "tableFrom": "thread_chat",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "thread_chat_thread_id_thread_id_fk": {
          "name": "thread_chat_thread_id_thread_id_fk",
          "tableFrom": "thread_chat",
          "tableTo": "thread",
          "columnsFrom": ["thread_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.thread_chat_read_status": {
      "name": "thread_chat_read_status",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "thread_id": {
          "name": "thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "thread_chat_id": {
          "name": "thread_chat_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_read_at": {
          "name": "last_read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_thread_chat_thread_id_user_id_index": {
          "name": "user_thread_chat_thread_id_user_id_index",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_thread_chat_unique": {
          "name": "user_thread_chat_unique",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "thread_chat_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "thread_chat_read_status_user_id_user_id_fk": {
          "name": "thread_chat_read_status_user_id_user_id_fk",
          "tableFrom": "thread_chat_read_status",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "thread_chat_read_status_thread_id_thread_id_fk": {
          "name": "thread_chat_read_status_thread_id_thread_id_fk",
          "tableFrom": "thread_chat_read_status",
          "tableTo": "thread",
          "columnsFrom": ["thread_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "thread_chat_read_status_thread_chat_id_thread_chat_id_fk": {
          "name": "thread_chat_read_status_thread_chat_id_thread_chat_id_fk",
          "tableFrom": "thread_chat_read_status",
          "tableTo": "thread_chat",
          "columnsFrom": ["thread_chat_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.thread_read_status": {
      "name": "thread_read_status",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "thread_id": {
          "name": "thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_read_at": {
          "name": "last_read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_thread_unique": {
          "name": "user_thread_unique",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "thread_read_status_user_id_user_id_fk": {
          "name": "thread_read_status_user_id_user_id_fk",
          "tableFrom": "thread_read_status",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "thread_read_status_thread_id_thread_id_fk": {
          "name": "thread_read_status_thread_id_thread_id_fk",
          "tableFrom": "thread_read_status",
          "tableTo": "thread",
          "columnsFrom": ["thread_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.thread_visibility": {
      "name": "thread_visibility",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "visibility": {
          "name": "visibility",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "thread_visibility_thread_id_index": {
          "name": "thread_visibility_thread_id_index",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "thread_visibility_thread_id_thread_id_fk": {
          "name": "thread_visibility_thread_id_thread_id_fk",
          "tableFrom": "thread_visibility",
          "tableTo": "thread",
          "columnsFrom": ["thread_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "thread_visibility_thread_id_unique": {
          "name": "thread_visibility_thread_id_unique",
          "nullsNotDistinct": false,
          "columns": ["thread_id"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user": {
      "name": "user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_email_unique": {
          "name": "user_email_unique",
          "nullsNotDistinct": false,
          "columns": ["email"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_feature_flags": {
      "name": "user_feature_flags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "feature_flag_id": {
          "name": "feature_flag_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_id_feature_flag_id_unique": {
          "name": "user_id_feature_flag_id_unique",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "feature_flag_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_feature_flags_user_id_user_id_fk": {
          "name": "user_feature_flags_user_id_user_id_fk",
          "tableFrom": "user_feature_flags",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_feature_flags_feature_flag_id_feature_flags_id_fk": {
          "name": "user_feature_flags_feature_flag_id_feature_flags_id_fk",
          "tableFrom": "user_feature_flags",
          "tableTo": "feature_flags",
          "columnsFrom": ["feature_flag_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_flags": {
      "name": "user_flags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "has_seen_onboarding": {
          "name": "has_seen_onboarding",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "show_debug_tools": {
          "name": "show_debug_tools",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_claude_max_sub": {
          "name": "is_claude_max_sub",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_claude_sub": {
          "name": "is_claude_sub",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "claude_organization_type": {
          "name": "claude_organization_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "selected_model": {
          "name": "selected_model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "selected_models": {
          "name": "selected_models",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "multi_agent_mode": {
          "name": "multi_agent_mode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "selected_repo": {
          "name": "selected_repo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "selected_branch": {
          "name": "selected_branch",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_seen_release_notes": {
          "name": "last_seen_release_notes",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_seen_release_notes_version": {
          "name": "last_seen_release_notes_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_seen_feature_upsell_version": {
          "name": "last_seen_feature_upsell_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_flags_user_id_unique": {
          "name": "user_flags_user_id_unique",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_flags_user_id_user_id_fk": {
          "name": "user_flags_user_id_user_id_fk",
          "tableFrom": "user_flags",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_info_server_side": {
      "name": "user_info_server_side",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "auto_reload_last_attempt_at": {
          "name": "auto_reload_last_attempt_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "auto_reload_last_failure_at": {
          "name": "auto_reload_last_failure_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "auto_reload_last_failure_code": {
          "name": "auto_reload_last_failure_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "user_info_server_side_user_id_unique": {
          "name": "user_info_server_side_user_id_unique",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_info_server_side_user_id_user_id_fk": {
          "name": "user_info_server_side_user_id_user_id_fk",
          "tableFrom": "user_info_server_side",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_settings": {
      "name": "user_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "auto_push_branches": {
          "name": "auto_push_branches",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "auto_create_draft_prs": {
          "name": "auto_create_draft_prs",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "auto_archive_merged_prs": {
          "name": "auto_archive_merged_prs",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "auto_close_draft_prs_on_archive": {
          "name": "auto_close_draft_prs_on_archive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "branch_name_prefix": {
          "name": "branch_name_prefix",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'terragon/'"
        },
        "pr_type": {
          "name": "pr_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "sandbox_provider": {
          "name": "sandbox_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'default'"
        },
        "sandbox_size": {
          "name": "sandbox_size",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_system_prompt": {
          "name": "custom_system_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_thread_visibility": {
          "name": "default_thread_visibility",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'repo'"
        },
        "preview_features_opt_in": {
          "name": "preview_features_opt_in",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "single_thread_for_github_mentions": {
          "name": "single_thread_for_github_mentions",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "default_github_mention_model": {
          "name": "default_github_mention_model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "auto_reload_disabled": {
          "name": "auto_reload_disabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "agent_model_preferences": {
          "name": "agent_model_preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "user_id_unique": {
          "name": "user_id_unique",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_settings_user_id_user_id_fk": {
          "name": "user_settings_user_id_user_id_fk",
          "tableFrom": "user_settings",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}
